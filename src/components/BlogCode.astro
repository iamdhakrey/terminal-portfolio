---
import { renderMarkdown } from "../utils/markdown";

const { language, code, title } = Astro.props;
---

<div
    class="relative my-6 rounded-lg border overflow-hidden"
    style={{
        backgroundColor: "var(--theme-background)",
        borderColor: "var(--theme-border)",
    }}
>
    {/* Header */}
    <div
        class="flex items-center justify-between px-4 py-3 border-b"
        style={{
            backgroundColor: "var(--theme-welcomeBoxBg)",
            borderColor: "var(--theme-border)",
        }}
    >
        <div class="flex items-center space-x-3">
            <div class="flex space-x-1">
                <div class="w-3 h-3 bg-red-400 rounded-full"></div>
                <div class="w-3 h-3 bg-yellow-400 rounded-full"></div>
                <div class="w-3 h-3 bg-green-400 rounded-full"></div>
            </div>
            {
                title && (
                    <span
                        class="text-sm font-medium"
                        style={{ color: "var(--theme-text)" }}
                    >
                        {title}
                    </span>
                )
            }
            {
                language && (
                    <span
                        class="text-xs px-2 py-1 rounded-md font-mono"
                        style={{
                            backgroundColor: "var(--theme-primary)",
                            color: "var(--theme-background)",
                        }}
                    >
                        {language}
                    </span>
                )
            }
        </div>
    </div>

    {/* Code content */}
    <div class="overflow-x-auto">
        <pre
            class="p-4 text-sm font-mono leading-relaxed"
            style={{
                backgroundColor: "var(--theme-background)",
                color: "var(--theme-text)",
            }}>
<code set:html={renderMarkdown(code, language)} /></pre>
    </div>
</div>
